{% load static %}
<aside
    class="hidden md:flex flex-col w-64 bg-white border-r border-gray-100 h-screen fixed left-0 top-0 overflow-y-auto z-50 transition-all duration-300">
    <div class="flex items-center justify-center h-20 border-b border-gray-50">
        <a href="{% url 'dashboard' %}" class="flex items-center gap-2">
            <img src="{% static 'img/Prisma.svg' %}" alt="Prisma Logo" class="h-10 w-auto">
        </a>
    </div>

    <nav class="flex-1 px-4 py-6 space-y-2">
        <p class="px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">General</p>

        <a href="{% url 'dashboard' %}"
            class="flex items-center px-4 py-3 text-gray-600 rounded-xl hover:bg-indigo-50 hover:text-indigo-600 transition-colors group {% if request.resolver_match.url_name == 'dashboard' %}bg-indigo-50 text-indigo-600 font-semibold{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 mr-3 group-hover:text-indigo-600 transition-colors {% if request.resolver_match.url_name == 'dashboard' %}text-indigo-600{% endif %}"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
            </svg>
            Dashboard
        </a>

        <a href="{% url 'lista_transacciones' %}"
            class="flex items-center px-4 py-3 text-gray-600 rounded-xl hover:bg-indigo-50 hover:text-indigo-600 transition-colors group {% if 'transacciones' in request.path %}bg-indigo-50 text-indigo-600 font-semibold{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 mr-3 group-hover:text-indigo-600 transition-colors {% if 'transacciones' in request.path %}text-indigo-600{% endif %}"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
            </svg>
            Transacciones
        </a>

        <a href="{% url 'lista_inversiones' %}"
            class="flex items-center px-4 py-3 text-gray-600 rounded-xl hover:bg-indigo-50 hover:text-indigo-600 transition-colors group {% if 'inversiones' in request.path %}bg-indigo-50 text-indigo-600 font-semibold{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 mr-3 group-hover:text-indigo-600 transition-colors {% if 'inversiones' in request.path %}text-indigo-600{% endif %}"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
            </svg>
            Inversiones
        </a>

        <a href="{% url 'lista_deudas' %}"
            class="flex items-center px-4 py-3 text-gray-600 rounded-xl hover:bg-indigo-50 hover:text-indigo-600 transition-colors group {% if 'deudas' in request.path %}bg-indigo-50 text-indigo-600 font-semibold{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 mr-3 group-hover:text-indigo-600 transition-colors {% if 'deudas' in request.path %}text-indigo-600{% endif %}"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            Deudas
        </a>


        <p class="px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider mt-6 mb-2">Herramientas</p>

        <a href="{% url 'facturacion' %}"
            class="flex items-center px-4 py-3 text-gray-600 rounded-xl hover:bg-indigo-50 hover:text-indigo-600 transition-colors group {% if 'factura' in request.path %}bg-indigo-50 text-indigo-600 font-semibold{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 mr-3 group-hover:text-indigo-600 transition-colors {% if 'factura' in request.path %}text-indigo-600{% endif %}"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
            Facturación
        </a>

        <a href="{% url 'gestionar_suscripcion' %}"
            class="flex items-center px-4 py-3 text-gray-600 rounded-xl hover:bg-indigo-50 hover:text-indigo-600 transition-colors group {% if 'suscripcion' in request.path %}bg-indigo-50 text-indigo-600 font-semibold{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 mr-3 group-hover:text-indigo-600 transition-colors {% if 'suscripcion' in request.path %}text-indigo-600{% endif %}"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z" />
            </svg>
            Mi Suscripción
        </a>
    </nav>

    <div class="p-4 border-t border-gray-50">
        <a href="{% url 'mi_perfil' %}"
            class="flex items-center gap-3 px-2 py-2 hover:bg-gray-50 rounded-lg transition-colors">
            <div class="h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold">
                {{ user.username|make_list|first|upper }}
            </div>
            <div class="flex-1 min-w-0">
                <p class="text-sm font-medium text-gray-900 truncate">{{ user.username }}</p>
                <p class="text-xs text-gray-500 truncate">{{ user.email }}</p>
            </div>
        </a>
    </div>
</aside>